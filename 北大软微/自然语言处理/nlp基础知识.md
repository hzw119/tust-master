

## 词法分析（lexical analysis）

词是自然语言中能够独立运用的最小单位，是NLP的基本单位

定义： 利用计算机对自然语言的形态进行分析，判断**词的结构和类别**等

主要任务：

1. 将连续的字符切分成一个一个的词(分词)
2. 正确的判断每个词的**词性**（HMM）

### 分词

分词算法的原则：

1. 颗粒度越大越好

2. 切分结果中非词典词越少越好，单字词数越少越好
3. 总体词数越少越好

常见的中文分词算法：

1. 基于字符串匹配的分词方法

   也叫机械分词方法，是一种基于字典的分词方法，它是按照一定的策略将待分析的汉字串与一个汉语词语字典进行匹配。

   该方法有三个元素：

     分词词典、文本扫描顺序、匹配原则

   文本扫描顺序有 正向扫描、逆向、双向

   匹配原则：最大匹配、最小、最佳匹配

   最大匹配算法：

   **正向匹配算法**：从字典中选出最长词条所含汉字的个数为i，则取待处理素材的前i个汉字作为一个待选的词语，如果字典正好含有这个词语，则匹配成功，如果没有这个词语，则去除待选词语的最后一个汉字，再次查询字典。

   **逆向最大匹配算法**：与正向匹配算法类似，只不过匹配顺序是从后往前，不匹配的时候删除最前面的汉字往下迭代

   **双向最大匹配法：** 按照分词算法原则来择优选择以上两种算法的结果。

   **最少分词法**（最短路径法）：构造字词之间的有向图，寻找最短路径

2. 基于理解的分词方法

   在分词的同时进行句法分析、语义分析、利用句法信息和语义分析来处理歧义现象

   神经网络

3. 基于统计的分词方法

   利用统计机器学习模型学习词语切分的规律，最大熵分词模型、最大概率分词方法

   基于统计的分词方法从一定程度上可以考虑到语义问题，得到最好的分词结果

   主要的统计模型有：N-gram、**HMM**、**CRF**

   https://zhuanlan.zhihu.com/p/65190736

分词的难点：

1. **歧义交集**问题：“为人民工作” {人，民，工} 

2. **组合型歧义**：门把手弄坏了 =》 门把手/弄坏了 、门/把/手/弄坏了

   学生会吃饭=》学生会/吃饭、学生/会/吃饭

新词的加入



中英文分词的区别：

  英文：

1. 根据空格拆分单词
2. 删除停止词：**be动词、介词、冠词、连词**
3. 词干提取，由于大部分英文词有多种**词态**

  中文：没有明确的间隔符

1. 词图扫描，构成一个有向无环图DAG
2. 动态规划查找最大路径（最大粒度路径）

​    HMM：隐状态马尔科发模型

​      

  

常见的分词项目：

  jieba 

  THULAC



## 句法分析、语法分析（phrase parsing）

功能合一文法：

  

应用自然语言的句法等知识确定**组成输入各成分的**语法功能，例如：每个词充当的角色、主语、谓语等

主要任务：确定句子的**语法结构**（获取整个句子的句法结构或者完全短语结构）或句子中词汇之间的**依存关系**（句法单位之间的关系、**局部成分**之间的关系）。

https://cloud.tencent.com/developer/article/1387652

https://www.cnblogs.com/lzhy-35/p/7169087.html

依存句法通过分析**语言单位内成分之前的依存关系**解释其句法结构，主张句子中核心动词是支配其他成分的中心成分。而它本身却不受其他任何成分的支配，所有受支配成分都以某种关系从属于支配者。

### 语法结构

为了生成句子的语法树，我们可以定义如下的一套上下文无关语法。

1）N表示一组非叶子节点的标注，例如{S、NP、VP、N...}

2）Σ表示一组叶子结点的标注，例如{boeing、is...}

3）R表示一组规则，每条规则可以表示为X->Y1Y2...Yn，X∈N，Yi∈(N∪Σ)

4）S表示语法树开始的标注

实现**语法结构**的方法：

  CFG：上下文无关语法**（Context-Free Grammer）**：

​      缺点：推导出的结构具有二义性，1. 单词的不同词性 2.介词短语的作用范围  

   PCFG-基于CFG的**概率**分布上下文语法：



https://blog.csdn.net/qq_39378221/article/details/103771571

**线图分析法**：**Bottom-up**、Top-down、从上到下和从下到上结合

CFG：上下问无关语法

   步骤： 

1. 给定一组**CFG**规则
2. 给定一个句子的**词性序列**
3. 构造一个线图，一组结点和边的集合。O——O-----O
4. 建立一个二维表，记录每一条边的起始位置和终止位置。

重写规则：某种**语法规则**：S--->NP VP(一个句子由 NP VP 所组成)

数据结构：

1. 线图（Chart）：保存分析过程中已经**建立的成分**、位置(新建立的成分)。

2. 待处理表（Agenda）：记录**刚刚得到的**一些重写规则所代表的成分。

3. 活动边集(ActiveArc):记录**按照某些规则**但还**未完全匹配**的线（**重写规则**）

   点规则：记录非活动边（已完全匹配）、活动边（未完全匹配）



缺点是极度依赖规则，高质量规则带来高质量的划分结果





### 依存分析





## 情感分析：

包括：情感分类、情感检索、情感抽取

### 情感分类

1.先进行主客观分类

2.基于语义的情感词典方法：

1. 构建词典

2. 构建倾向性计算算法![img](https://img-blog.csdnimg.cn/20181223143916124.png)

   ![\large wp_i,wp_j](https://img-blog.csdnimg.cn/20181223152851968)

3. 设置阈值

3.基于机器学习的情感分类方法

### 情感检索：

   情感检索是从海量文本中查询到观点信息，根据主题相关度和观点倾向性对结果排序。

### 情感抽取：

   情感抽取是指**抽取**情感文本中有价值的**情感信息**，其要判断**一个单词或词组**在**情感表达**中扮演的角色，包括情感表达者识别，评价对象识别，情感观点词识别等任务





知识图谱：

完善使用**本体模型来形式化表达数据中的隐含语义**，**王健林的儿子**==>**王思聪**